<h1 align="center">ThirdpartyOauth</h1>

<p align="center">

<a href="https://packagist.org/packages/pltrue/thirdparty_oauth"><img src="https://img.shields.io/badge/license-MIT-green" /></a> 
[![Build Status](https://travis-ci.org/pl1998/thirdparty_oauth.svg?branch=master)](https://travis-ci.org/pl1998/thirdparty_oauth)
![StyleCI build status](https://github.styleci.io/repos/295677202/shield)
<a href="https://packagist.org/packages/pltrue/thirdparty_oauth"><img src="https://img.shields.io/badge/php-v7.0+-blue" /></a> 
<a href="https://packagist.org/packages/pltrue/thirdparty_oauth"><img src="https://img.shields.io/badge/downloads-37-brightgreen" /></a> 
</p>


<p>è¿™æ˜¯ä¸€ä¸ªç¤¾ä¼šåŒ–ç™»å½•çš„ç¬¬ä¸‰æ–¹ç™»å½•æ‰©å±•åŒ… </p>

v2.0ç‰ˆæœ¬å…¼å®¹ [Laravel-Octane](https://github.com/laravel/octane)




## å®‰è£…

ä½¿ç”¨ composer å®‰è£…: 

```shell
$ composer require pltrue/thirdparty_oauth "v1.7"
```

## è´¡çŒ®
ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼åšå‡ºè´¡çŒ®:

1. bugåé¦ˆ   [issue tracker](https://github.com/pl1998/thirdparty_oauth/issues).
2. å›ç­”é—®é¢˜æˆ–ä¿®å¤é”™è¯¯ [issue tracker](https://github.com/pl1998/thirdparty_oauth/issues).
3. è´¡çŒ®æ–°ç‰¹æ€§æˆ–æ›´æ–°wikiã€‚

## ç›®å‰æ”¯æŒç¬¬ä¸‰æ–¹ç™»å½•

 * 1.QQ(app/h5/web)
 * 2.å¾®ä¿¡(webæ‰«ç )
 * 3.å¾®åš(app/h5/web)
 * 4.å°ç±³(web/h5)
 * 5.æŠ–éŸ³
 * 6.ä¸–çºªäº’è”(å¾®è½¯)
 * 7.å¾®è½¯
 * 8.gitee
 * 9.github
 * 10.gitlab
 * 11.google
 * 12.line

<hr>


## è´¡çŒ®è€…ğŸ‰ã€ä»¥åŠåˆå¹¶æ—¥å¿—

| æ—¥æœŸ   | æ›´æ–°çº§åˆ« | æ›´æ–°å†…å®¹      | è´¡çŒ®è€… | å½“å‰çŠ¶æ€ |
| ------| -------- | --------- | ---- | ---- |
| 2020-12-06|   fix ã€feat   | æ–°å¢`Microsoft`ç™»å½• ä¿®å¤å¾®ä¿¡ã€QQçš„bug   | [742481030](https://github.com/742481030)     | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-08|   feat         | æ–°å¢`å°ç±³è´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-09|   feat         | æ–°å¢`googleè´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-10|   feat         | æ–°å¢`åä¸ºè´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-11|   fix         | qqç»Ÿä¸€ä½¿ç”¨jsonæ¥å£    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-12|   feat         | æ–°å¢`æŠ–éŸ³è´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-13|   feat         | æ–°å¢`Lineè´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-29|   fix         | å¢åŠ å…¼å®¹æ”¯ä»˜å®qq appæ··åˆåº”ç”¨å…¼å®¹   | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-29|   feat         | æ–°å¢`äº¬ä¸œè´¦æˆ·`ç™»å½•    | [742481030](https://github.com/742481030)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2020-12-29|   fix          | å…¼å®¹laravel7*    | [pl1998](https://github.com/pl1998)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2021-04-19|   feat          | å…¼å®¹laravel8* æ”¯æŒlaravelå‘å¸ƒé…ç½®æ–‡ä»¶   | [pl1998](https://github.com/pl1998)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |
| 2021-05-15|   feat          | v2.0ç‰ˆæœ¬ å…¼å®¹laravel8* Laravel Octane å¸¸é©»å†…å­˜   | [pl1998](https://github.com/pl1998)  | å·²åˆå¹¶åˆ°masteråˆ†æ”¯     |


## å¦‚ä½•ç”³è¯·åº”ç”¨æˆæƒï¼Ÿ
   * [githubåº”ç”¨åˆ›å»ºåœ°å€](https://github.com/settings/developers)
   * [giteeåº”ç”¨åˆ›å»ºåœ°å€](https://gitee.com/oauth/applications)
   * [gitlabåº”ç”¨åˆ›å»ºåœ°å€](https://gitlab.com/oauth/applications)
   * [å¾®åšåº”ç”¨åˆ›å»ºåœ°å€](https://open.weibo.com/)
   * [microcoftåº”ç”¨åˆ›å»ºåœ°å€](https://azure.com/)
   * [QQäº’è”åˆ›å»ºåœ°å€](https://connect.qq.com/index.html)
   * [å°ç±³åº”ç”¨](https://dev.mi.com/console/)
   * [googleåº”ç”¨](https://console.developers.google.com)
   * [äº¬ä¸œåº”ç”¨](https://jos.jd.com/)
   

##### å‚æ•°è¯´æ˜ 

>   <kbd>redirect_url</kbd>   å›è°ƒåœ°å€å°†ä½¿ç”¨æ–¹æ³•å†™åˆ°å›è°ƒæ¥å£å³å¯ è·å–åˆ°ç”¨æˆ·çš„ä¸€äº›åŸºç¡€ä¿¡æ¯ <br/>
>   <kbd>client_id</kbd>     åº”ç”¨æˆæƒid <br/>
>   <kbd>client_secret</kbd>  åº”ç”¨æˆæƒkey <br/>
>    æ‰€æœ‰æ”¯æŒå¹³å°çš„ç±»å‹ `github` `gitee` `gitlab` `weibo` `qq` `weixin` `alipay` `microsoft` é…ç½®æ–‡ä»¶ä¸‹æ ‡ä¸€è‡´



##### å»ºè®®

> å‰åç«¯åˆ†ç¦»ä¸‹å»ºè®®å‰ç«¯ç›´æ¥è¯·æ±‚æˆæƒæ¥å£ï¼Œåç«¯è´Ÿè´£å›è°ƒæ¥å£å³å¯

#### PHP-FPMä¸‹å®‰è£…
```shell script
composer require pltrue/thirdparty_oauth "v1.7"
```
#### Laravel Octane  å¸¸é©»å†…å­˜ä¸‹å®‰è£…
```shell script
composer require pltrue/thirdparty_oauth "v2.0"
```
#### å‘å¸ƒé…ç½®

```shell script
php artisan vendor:publish --tag=oauth 
```

### ç®€å•ä½¿ç”¨

   * æˆæƒæ–¹æ³•
````php
$api = new SocialiteAuth(config('oauth.github'));
return $api->redirect('github');

````
   *å›è°ƒæ–¹æ³•

```php
public function githubCallBack()
    {
        $auth = new SocialiteAuth(config('oauth.github'));
        $user = $auth->driver('github')->user();

        $users = User::query()->where('oauth_id',$user->id)->first();

        if(!$users){
            $users= User::query()->create([
                'name'=> empty($user->name) ?? $user->login,
                'email'=>$user->email,
                'avatar'=>$user->avatar_url,
                'oauth_id'=>$user->id,
                'bound_oauth'=>1
            ]);
        }
        return $this->respondWithToken($users);
    }
```

## è¿”å›ç¤ºä¾‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20210115174351473.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDMyMTE3,size_16,color_FFFFFF,t_70#pic_center)

<br/>

## License
<hr>
MIT
